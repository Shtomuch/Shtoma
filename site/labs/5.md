---
title: Лабораторна робота №5
outline: deep
---

# Лабораторна робота №5

## Мета роботи:
- Вивчити особливості рекурсивних процесів
- Опанувати технологію рекурсивних обчислень
- Навчитися розробляти алгоритми та програми із застосуванням рекурсивних функцій

## Умова задачі

### Завдання 1 (Варіант 11)

Обчислити значення рекурсивної функції, заданої рекурентним співвідношенням. Визначити глибину рекурсії. Здійснити аналіз ефективності рекурсивного розв'язку задачі. Варіанти завдання 1 подані в таблиці 5.1. Програма повинна реалізовувати два способи розв'язання лабораторного завдання: з використанням рекурсії та з використанням ітерації (циклу). В процесі ітераційної реалізації завдання слід підсумувати кількість ітерацій.Послідовність 1,1,2,3,5,8, ... складається з чисел Фібоначчі. Кожен елемент, починаючи з третього, дорівнює сумі двох попередніх.
Ввести з клавіатури два натуральних числа m та n, які означають кількість чисел та номер числа в послідовності Фібоначчі. Вивести послідовність чисел Фібоначчі в кількості m елементів та значення n--го числа. Передбачити випадок m < n. Реалізувати рекурсивний та ітеративний варіанти розв'язку задачі, використовуючи рекурсію та оператор циклу. Порівняти ефективність рекурсивної та ітеративної реалізацій, визначивши глибину рекурсії та кількість ітерацій циклу.

### Завдання 2  (Варіант 11)

Створити рекурсивну функцію, яка отримує числа, зчитуючи їх з клавіатури, і перевіряє їх на непарність. Кінець вводу - число 0. Функція не повертає значення, а відразу ж виводить результат на екран, зберігаючи порядок ведених чисел. У цьому завданні не можна використовувати глобальні змінні і передавати будь-які аргументи в рекурсивну функцію. Основна програма повинна складатися тільки з виклику цієї функції. Контрольний тест: введені числа 3 2 1 0, отриманий результат: 3 1.

## Аналіз задачі

Обидва завдання вимагають отримання чисел з консолі. Для цього можна використовувати функції, які надає стандартна бібліотека C++. 

### Завдання 1

1. **Отримання даних з консолі**: Користувач вводить два натуральних числа \(m\) та \(n\), які вказують кількість чисел та номер числа в послідовності Фібоначчі. Програма перевіряє коректність введених даних.
   
2. **Обчислення чисел Фібоначчі**: 
    - **Рекурсивний метод**: Використовуючи рекурентне співвідношення, програма обчислює \(n\)-те число Фібоначчі. Глибина рекурсії дорівнює \(n\).
    - **Ітеративний метод**: Програма використовує цикл для обчислення чисел Фібоначчі. Кількість ітерацій дорівнює \(n-2\).
    
3. **Виведення результату на консоль**: Програма виводить послідовність чисел Фібоначчі в кількості \(m\) елементів та значення \(n\)-го числа. У випадку, коли \(m < n\), програма враховує цей випадок та виводить відповідне повідомлення або обробляє його іншим способом, залежно від специфікації завдання.

### Завдання 2

1. **Отримання даних з консолі**: Користувач вводить числа до того моменту, поки не введе 0.
   
2. **Перевірка на непарність та виведення**: Програма використовує рекурсивний підхід для читання чисел та перевірки їх на непарність. Якщо число непарне, програма відразу виводить його на консоль.
    
3. **Завершення рекурсії**: Рекурсія завершується, коли користувач вводить число 0.

## Блок-схема програми 1 та 2
### Завдання 1
![Схема](https://i.imgur.com/nVMzLNr.png)
### Завдання 2
![Схема](https://i.imgur.com/lafipQr.png)
## Код програм
### Завдання 1

```cpp

#include <iostream>
#include <locale>

using namespace std;


int depth = 0;

int fibonacci_recursive(int m) {
    depth++;
    if (m == 0) return 1;
    if (m == 1) return 1;
    if (m > 1) return fibonacci_recursive(m - 1) + fibonacci_recursive(m - 2);
    cout << "Невідоме значення m!" << endl;
    return -1;
}

int fibonacci_iterative(int m, int& iterations) {
    if (m == 0) return 1;
    if (m == 1) return 1;
    int prev = 1, current = 1, next;
    for (int i = 2; i <= m; i++) {
        next = prev + current;
        prev = current;
        current = next;
        iterations++;
    }
    return current;
}

int main() {
    setlocale(LC_ALL, ""); // Для підтримки української мови
    int m, n;
    cout << "Введіть кількість чисел (m): ";
    cin >> m;
    cout << "Введіть номер числа (n): ";
    cin >> n;

    if (m < 0 || n < 0) {
        cout << "Помилка: m або n є від'ємним!" << endl;
        return 1;
    }

    if (m < n) {
        cout << "Помилка: m < n!" << endl;
        return 1;
    }

    cout << "Рекурсивний метод:" << endl;
    for (int i = 0; i < m; i++) {
        cout << fibonacci_recursive(i) << " ";
    }
    cout << "\n" << n << "-те число: " << fibonacci_recursive(n - 1) << endl;
    cout << "Глибина рекурсії: " << depth << endl;

    int iterations = 0;
    cout << "\nІтеративний метод:" << endl;
    for (int i = 0; i < m; i++) {
        cout << fibonacci_iterative(i, iterations) << " ";
    }
    cout << "\n" << n << "-те число: " << fibonacci_iterative(n - 1, iterations) << endl;
    cout << "Кількість ітерацій: " << iterations << endl;

    return 0;
}
```

### Завдання 2

```cpp
#include <iostream>

// Функція для рекурсивного введення та обробки чисел
void processOddNumbers() {
    int number;
    std::cin >> number;  // Зчитуємо число

    // Перевірка на правильність вводу
    while (std::cin.fail()) {
        std::cin.clear(); // очищаємо стан вводу
        std::cin.ignore(std::numeric_limits<std::streamsize>::max(), '\n'); // видаляємо неправильне значення з вводу
        std::cout << "Будь ласка, введіть коректне число:" << std::endl;
        std::cin >> number;
    }

    // Якщо число не 0, продовжуємо обробку
    if (number != 0) {
        processOddNumbers();  // Рекурсивний виклик

        // Якщо число непарне, виводимо його
        if (number % 2 != 0) {
            std::cout << number << " ";
        }
    }
}

int main() {
    setlocale(LC_ALL, ""); // Для підтримки української мови
    std::cout << "Введіть числа (закінчити введення числом 0):" << std::endl;
    processOddNumbers();
    return 0;
}
```
## Результат виконання програм
### Завдання 1

![Результат](https://i.imgur.com/1S2Ibe2.png)

### Завдання 2

![Результат](https://i.imgur.com/LPF7Nnn.png)

## Аналіз достовірності результатів

Під час виконання програма виводить числа в консоль з обмеженням
кількості цифр за замовчуванням.

### Завдання 1:Ряд ФІБОНАЧЧІ

Як ми бачимо друге число в ряді Фібоначчі дійсно одиниця, тож програма правильно виконується.
![Результат](https://i.imgur.com/EgpjKkd.png)


### Завдання 2: Перевірка на парність

1. **Вхідні дані**:
   - Введені числа: 3 2 1 0
   - Очікуваний результат: 3 1

2. **Вхідні дані**:
   - Введені числа: 7 6 5 4 3 2 1 0
   - Очікуваний результат: 7 5 3 1

3. **Вхідні дані**:
   - Введені числа: 10 9 8 0
   - Очікуваний результат: 9

Для кожного тестового випадку, можна ввести відповідні вхідні дані в програму і порівняти результат з очікуваним.

## Висновки
Після виконання цієї роботи я глибше зрозумів важливість рекурсії та ітерації в програмуванні, а також нюанси їх застосування. Робота над обчисленням чисел Фібоначчі та виведенням непарних чисел, введених користувачем, допомогла мені краще зрозуміти, як оптимально обирати метод розв'язку для конкретної задачі. Я також наголосив на важливості коректної обробки введених користувачем даних та передбачення можливих помилок вводу. Загалом, ця робота дозволила мені поглибити свої навички в аналізі задач, виборі правильного підходу до їх розв'язання та реалізації в програмному коді.





